
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>window</title><meta name="generator" content="MATLAB 9.0"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2021-06-15"><meta name="DC.source" content="window.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><pre class="codeinput"><span class="keyword">function</span> varargout = window(varargin)
gui_Singleton = 1;
gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
                   <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
                   <span class="string">'gui_OpeningFcn'</span>, @window_OpeningFcn, <span class="keyword">...</span>
                   <span class="string">'gui_OutputFcn'</span>,  @window_OutputFcn, <span class="keyword">...</span>
                   <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
                   <span class="string">'gui_Callback'</span>,   []);
<span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
    gui_State.gui_Callback = str2func(varargin{1});
<span class="keyword">end</span>

<span class="keyword">if</span> nargout
    [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
<span class="keyword">else</span>
    gui_mainfcn(gui_State, varargin{:});
<span class="keyword">end</span>
<span class="comment">% End initialization code - DO NOT EDIT</span>

<span class="comment">% Initializes Values</span>
<span class="keyword">function</span> window_OpeningFcn(hObject, eventdata, handles, varargin)
    handles.output = hObject;
    guidata(hObject, handles);
    <span class="keyword">global</span> volume filterType selectedBand userSampleRate;
    selectedBand = 1;
    volume = 85;
    filterType = <span class="string">'FIR'</span>;
    userSampleRate = 0;
    refreshFrequencyValues(hObject, 0, handles);

<span class="keyword">function</span> varargout = window_OutputFcn(hObject, ~, handles)
varargout{1} = handles.output;

<span class="comment">% Applies FIR filter to given signal/band</span>
<span class="keyword">function</span> [y, num, den] = applyFIR(wn, bandType, gain, signalY)
    num = fir1(50, wn, bandType);
    den = 1;
    yFiltered = filter(num, 1, signalY);
    y=gain*yFiltered;


<span class="comment">% Applies IIR filter to given signal/band</span>
<span class="keyword">function</span> [y, num, den, N] = applyIIR(wn, bandType, gain, signalY)
    <span class="keyword">if</span> (strcmp(bandType,<span class="string">'bandpass'</span>))
        [N, ~] = cheb2ord(wn(1),wn(2),1,10); <span class="comment">% or use manual Ns</span>
    <span class="keyword">else</span>
        N = 7;
    <span class="keyword">end</span>
    [num, den] = cheby1(N, 0.5, wn, bandType);
    yFiltered = filter(num, den, signalY);
    y = gain * yFiltered;

<span class="comment">% Calls filter functions for all bands in a loop and forms composite signal</span>
<span class="keyword">function</span> applyEqualizer(handles)
    <span class="keyword">global</span> audioPathName selectedBand fs userSampleRate;
    [handles.y, Fsload] = audioread(audioPathName);
    bandpasses = [170 310 600 1000 3000 6000 12000 14000 16000];
    <span class="keyword">if</span> (Fsload &lt;= bandpasses(end)*2)
        fs = bandpasses(end)*2 + 2000;
    <span class="keyword">else</span>
        fs = Fsload;
    <span class="keyword">end</span>
    <span class="keyword">if</span> (userSampleRate == 0)
        userSampleRate = fs;
    <span class="keyword">end</span>
    handles.y = resample(handles.y, fs, Fsload);
    values = getSliderValues(handles);
    totalY = 0;
    <span class="keyword">for</span> i=1:length(bandpasses)
        currentValue = bandpasses(i);
        currentGain = values(i);
        currentGain = db2mag(currentGain);
        bandType = <span class="string">'bandpass'</span>;
        <span class="keyword">if</span> (i&gt;1)
            previousValue = bandpasses(i-1)+1;
            wn = [previousValue/(fs/2) currentValue/(fs/2)];
        <span class="keyword">else</span>
            bandType = <span class="string">'low'</span>;
            wn = currentValue/(fs/2);
        <span class="keyword">end</span>
        <span class="keyword">if</span> (get(handles.firRadio, <span class="string">'Value'</span>))
            [y, num, den] = applyFIR(wn, bandType, currentGain, handles.y);
            N = 50;
        <span class="keyword">else</span>
            [y, num, den, N] = applyIIR(wn, bandType, currentGain, handles.y);
        <span class="keyword">end</span>
        <span class="keyword">if</span> (i == selectedBand)
            plotMagnitudePhase(num, den, handles.magAxes, handles.phaseAxes);
            plotStepImpulse(num, den, handles.impAxes, handles.stepAxes);
            plotPolesZeros(num, den, handles.polesZeros)
            set(handles.orderLabel, <span class="string">'String'</span>, strcat(<span class="string">'Order: '</span>, int2str(N)));
        <span class="keyword">end</span>
        totalY = totalY + y;
    <span class="keyword">end</span>
    totalY = resample(totalY, userSampleRate, fs);
    plotTD(handles.y, handles.timeDY, <span class="string">'Input Signal (Time Domain)'</span>);
    plotTD(totalY, handles.timeDYF, <span class="string">'Filtered Signal (Time Domain)'</span>);
    <span class="comment">%</span>
    plotFD(fs, handles.y, handles.timeFY, <span class="string">'Input Signal (Frequency Domain)'</span>);
    plotFD(fs, totalY, handles.timeFYF, <span class="string">'Filtered Signal (Frequency Domain)'</span>);
    <span class="comment">%</span>
    <span class="keyword">global</span> audioPlayer volume;
    audioPlayer = audioplayer(totalY*(volume/100), fs);


<span class="comment">% Loads .wav File into program</span>
<span class="keyword">function</span> loadFileButton_Callback(hObject, ~, handles)
    <span class="keyword">global</span> audioPathName userSampleRate;
    userSampleRate = 0;
    [fileName, pathName]=uigetfile({<span class="string">'*.wav'</span>} , <span class="string">'File Selector'</span>);
    audioPathName = strcat(pathName , fileName);
    set(handles.loadedFileLabel, <span class="string">'String'</span> , strcat(<span class="string">'Current Loaded File: '</span>, fileName));
    applyEqualizer(handles);
    initializeSampleRate(handles);

<span class="comment">% Sets output sample frequency as value taken from user into slider values</span>
<span class="keyword">function</span> initializeSampleRate(handles)
    <span class="keyword">global</span> userSampleRate fs;
    userSampleRate = fs;
    set(handles.sampleRateSlider, <span class="string">'min'</span>, fs/2);
    set(handles.sampleRateSlider, <span class="string">'max'</span>, fs*2);
    set(handles.sampleRateSlider, <span class="string">'value'</span>, fs);
    set(handles.lv_sampleRate, <span class="string">'String'</span>, userSampleRate);

<span class="comment">% Pauses music player</span>
<span class="keyword">function</span> pauseButton_Callback(hObject, ~, handles)
    <span class="keyword">global</span> audioPlayer;
    applyEqualizer(handles);
    pause(audioPlayer);

<span class="comment">% Resumes music player</span>
<span class="keyword">function</span> resumeButton_Callback(hObject, ~, handles)
    <span class="keyword">global</span> audioPlayer;
    applyEqualizer(handles);
    play(audioPlayer);

<span class="comment">% Refreshes inputs and continues playback</span>
<span class="keyword">function</span> refreshButton_Callback(hObject, ~, handles)
    <span class="keyword">global</span> audioPlayer;
    currentTime = audioPlayer.CurrentSample;
    pause(audioPlayer);
    applyEqualizer(handles);
    play(audioPlayer, ceil(currentTime));

<span class="comment">% Changes volume of music player</span>
<span class="keyword">function</span> volumeSlider_Callback(hObject, eventdata, handles)
    <span class="keyword">global</span> volume;
    volume = get(handles.volumeSlider, <span class="string">'value'</span>);
    set(handles.volumeLabel, <span class="string">'String'</span>, volume);

<span class="comment">% GUI Functions</span>
<span class="keyword">function</span> slidersCreate(hObject, ~, handles)
    <span class="keyword">if</span> isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
        set(hObject,<span class="string">'BackgroundColor'</span>,[.9 .9 .9]);
    <span class="keyword">end</span>

<span class="keyword">function</span> x = getSliderValues(handles)
    x = [get(handles.slider_170, <span class="string">'value'</span>) get(handles.slider_310, <span class="string">'value'</span>) get(handles.slider_600, <span class="string">'value'</span>) get(handles.slider_1k, <span class="string">'value'</span>) get(handles.slider_3k, <span class="string">'value'</span>) get(handles.slider_6k, <span class="string">'value'</span>) get(handles.slider_12k, <span class="string">'value'</span>) get(handles.slider_14k, <span class="string">'value'</span>) get(handles.slider_16k, <span class="string">'value'</span>)];

<span class="keyword">function</span> refreshFrequencyValues(hObject, ~, handles)
    sliderValues = getSliderValues(handles);
    set(handles.lv_170, <span class="string">'String'</span>, sliderValues(1));
    set(handles.lv_310, <span class="string">'String'</span>, sliderValues(2));
    set(handles.lv_600, <span class="string">'String'</span>, sliderValues(3));
    set(handles.lv_1k, <span class="string">'String'</span>, sliderValues(4));
    set(handles.lv_3k, <span class="string">'String'</span>, sliderValues(5));
    set(handles.lv_6k, <span class="string">'String'</span>, sliderValues(6));
    set(handles.lv_12k, <span class="string">'String'</span>, sliderValues(7));
    set(handles.lv_14k, <span class="string">'String'</span>, sliderValues(8));
    set(handles.lv_16k, <span class="string">'String'</span>, sliderValues(9));

<span class="keyword">function</span> loadPreset(handles, v_170, v_310, v_600, v_1k, v_3k, v_6k, v_12k, v_14k, v_16k)
    set(handles.slider_170, <span class="string">'value'</span>, v_170);
    set(handles.slider_310, <span class="string">'value'</span>, v_310);
    set(handles.slider_600, <span class="string">'value'</span>, v_600);
    set(handles.slider_1k, <span class="string">'value'</span>, v_1k);
    set(handles.slider_3k, <span class="string">'value'</span>, v_3k);
    set(handles.slider_6k, <span class="string">'value'</span>, v_6k);
    set(handles.slider_12k, <span class="string">'value'</span>, v_12k);
    set(handles.slider_14k, <span class="string">'value'</span>, v_14k);
    set(handles.slider_16k, <span class="string">'value'</span>, v_16k);
    refreshFrequencyValues(0, 0, handles);

<span class="keyword">function</span> rockButton_Callback(hObject, ~, handles)
    loadPreset(handles, 1, 2, 3, 4, 5, 6, 7, 8, 9)

<span class="keyword">function</span> jazzButton_Callback(hObject, ~, handles)
    loadPreset(handles, -1, -2, -3, -4, -5, -6, -7, -8, -9)

<span class="keyword">function</span> classicButton_Callback(hObject, ~, handles)
    loadPreset(handles, 5, 8, 1, 3, 6, 6, -20, 20, 15.225)

<span class="keyword">function</span> techoButton_Callback(hObject, ~, handles)
    loadPreset(handles, 0, 0, 0, 0, 0, 0, 0, 0, 0)

<span class="comment">% Plots given signal in time domain</span>
<span class="keyword">function</span> plotTD(y, axesObject, plotTitle)
    t = linspace(0,50,length(y));
    axes(axesObject);
    plot(t,y); title(plotTitle);

<span class="comment">% Plots given signal in frequency domain</span>
<span class="keyword">function</span> plotFD(Fs, y, axesObject, plotTitle)
    Y = fftshift(fft(y));
    F = linspace(-Fs/2,Fs/2,length(y));
    axes(axesObject);
    plot(F,real(Y)); title(plotTitle);

<span class="comment">% Plots magnitude and phase of given signal</span>
<span class="keyword">function</span> plotMagnitudePhase(numerator, denominator, magAxes, phaseAxes)
    [H,w] = freqz(numerator, denominator);
    magnitude = abs(H);
    phase = angle(H);
    axes(magAxes);
    plot(w,magnitude); title(<span class="string">'Magnitude'</span>);
    axes(phaseAxes);
    plot(w,phase); title(<span class="string">'Phase'</span>);

<span class="comment">% Plots step and impulse responses of given signal</span>
<span class="keyword">function</span> plotStepImpulse(numerator, denominator, impAxes, stepAxes)
    axes(impAxes);
    plot(impz(numerator, denominator)); title(<span class="string">'Impulse Response'</span>);
    axes(stepAxes);
    plot(stepz(numerator, denominator)); title(<span class="string">'Step Response'</span>);

<span class="comment">% Plots poles and zeros of given signal</span>
<span class="keyword">function</span> plotPolesZeros(numerator, denominator, polesAxes)
    z = roots(numerator);
    p = roots(denominator);
    axes(polesAxes);
    zplane(z,p); title(<span class="string">'Pole-Zero Plot'</span>);

<span class="comment">% GUI Functions</span>
<span class="keyword">function</span> bandMenu_Callback(hObject, eventdata, handles)
    <span class="keyword">global</span> selectedBand;
    selectedBand = get(hObject,<span class="string">'Value'</span>);
    applyEqualizer(handles);


<span class="keyword">function</span> bandMenu_CreateFcn(hObject, eventdata, handles)
    <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
        set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
    <span class="keyword">end</span>

<span class="keyword">function</span> sampleRateSlider_Callback(hObject, eventdata, handles)
    <span class="keyword">global</span> userSampleRate;
    userSampleRate = ceil(get(hObject, <span class="string">'value'</span>));
    set(handles.lv_sampleRate, <span class="string">'String'</span>, userSampleRate);
</pre><img vspace="5" hspace="5" src="window_01.png" style="width:1016px;height:684px;" alt=""> <p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2016a</a><br></p></div><!--
##### SOURCE BEGIN #####
function varargout = window(varargin)
gui_Singleton = 1;
gui_State = struct('gui_Name',       mfilename, ...
                   'gui_Singleton',  gui_Singleton, ...
                   'gui_OpeningFcn', @window_OpeningFcn, ...
                   'gui_OutputFcn',  @window_OutputFcn, ...
                   'gui_LayoutFcn',  [] , ...
                   'gui_Callback',   []);
if nargin && ischar(varargin{1})
    gui_State.gui_Callback = str2func(varargin{1});
end

if nargout
    [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
else
    gui_mainfcn(gui_State, varargin{:});
end
% End initialization code - DO NOT EDIT

% Initializes Values
function window_OpeningFcn(hObject, eventdata, handles, varargin)
    handles.output = hObject;
    guidata(hObject, handles);
    global volume filterType selectedBand userSampleRate;
    selectedBand = 1;
    volume = 85;
    filterType = 'FIR';
    userSampleRate = 0;
    refreshFrequencyValues(hObject, 0, handles);

function varargout = window_OutputFcn(hObject, ~, handles) 
varargout{1} = handles.output;

% Applies FIR filter to given signal/band 
function [y, num, den] = applyFIR(wn, bandType, gain, signalY)
    num = fir1(50, wn, bandType);
    den = 1;
    yFiltered = filter(num, 1, signalY);
    y=gain*yFiltered;


% Applies IIR filter to given signal/band     
function [y, num, den, N] = applyIIR(wn, bandType, gain, signalY)
    if (strcmp(bandType,'bandpass'))
        [N, ~] = cheb2ord(wn(1),wn(2),1,10); % or use manual Ns
    else
        N = 7;
    end
    [num, den] = cheby1(N, 0.5, wn, bandType);
    yFiltered = filter(num, den, signalY);
    y = gain * yFiltered;

% Calls filter functions for all bands in a loop and forms composite signal    
function applyEqualizer(handles)
    global audioPathName selectedBand fs userSampleRate;
    [handles.y, Fsload] = audioread(audioPathName);
    bandpasses = [170 310 600 1000 3000 6000 12000 14000 16000];
    if (Fsload <= bandpasses(end)*2)
        fs = bandpasses(end)*2 + 2000;
    else
        fs = Fsload;
    end
    if (userSampleRate == 0)
        userSampleRate = fs;
    end
    handles.y = resample(handles.y, fs, Fsload);
    values = getSliderValues(handles);
    totalY = 0;
    for i=1:length(bandpasses)
        currentValue = bandpasses(i);
        currentGain = values(i);
        currentGain = db2mag(currentGain);
        bandType = 'bandpass';
        if (i>1)
            previousValue = bandpasses(i-1)+1;
            wn = [previousValue/(fs/2) currentValue/(fs/2)];
        else
            bandType = 'low';
            wn = currentValue/(fs/2);
        end
        if (get(handles.firRadio, 'Value'))
            [y, num, den] = applyFIR(wn, bandType, currentGain, handles.y);
            N = 50;
        else
            [y, num, den, N] = applyIIR(wn, bandType, currentGain, handles.y);
        end
        if (i == selectedBand)
            plotMagnitudePhase(num, den, handles.magAxes, handles.phaseAxes);
            plotStepImpulse(num, den, handles.impAxes, handles.stepAxes);
            plotPolesZeros(num, den, handles.polesZeros)
            set(handles.orderLabel, 'String', strcat('Order: ', int2str(N)));
        end
        totalY = totalY + y;
    end
    totalY = resample(totalY, userSampleRate, fs);
    plotTD(handles.y, handles.timeDY, 'Input Signal (Time Domain)');
    plotTD(totalY, handles.timeDYF, 'Filtered Signal (Time Domain)');
    %
    plotFD(fs, handles.y, handles.timeFY, 'Input Signal (Frequency Domain)');
    plotFD(fs, totalY, handles.timeFYF, 'Filtered Signal (Frequency Domain)');
    %
    global audioPlayer volume;
    audioPlayer = audioplayer(totalY*(volume/100), fs);
    
    
% Loads .wav File into program       
function loadFileButton_Callback(hObject, ~, handles)
    global audioPathName userSampleRate;
    userSampleRate = 0;
    [fileName, pathName]=uigetfile({'*.wav'} , 'File Selector');
    audioPathName = strcat(pathName , fileName);
    set(handles.loadedFileLabel, 'String' , strcat('Current Loaded File: ', fileName));
    applyEqualizer(handles);
    initializeSampleRate(handles);

% Sets output sample frequency as value taken from user into slider values     
function initializeSampleRate(handles)
    global userSampleRate fs;
    userSampleRate = fs;
    set(handles.sampleRateSlider, 'min', fs/2);
    set(handles.sampleRateSlider, 'max', fs*2);
    set(handles.sampleRateSlider, 'value', fs);
    set(handles.lv_sampleRate, 'String', userSampleRate);

% Pauses music player      
function pauseButton_Callback(hObject, ~, handles)
    global audioPlayer;
    applyEqualizer(handles);
    pause(audioPlayer);

% Resumes music player        
function resumeButton_Callback(hObject, ~, handles)
    global audioPlayer;
    applyEqualizer(handles);
    play(audioPlayer);

% Refreshes inputs and continues playback    
function refreshButton_Callback(hObject, ~, handles)
    global audioPlayer;
    currentTime = audioPlayer.CurrentSample;
    pause(audioPlayer);
    applyEqualizer(handles);
    play(audioPlayer, ceil(currentTime));

% Changes volume of music player     
function volumeSlider_Callback(hObject, eventdata, handles)
    global volume;
    volume = get(handles.volumeSlider, 'value');
    set(handles.volumeLabel, 'String', volume);

% GUI Functions    
function slidersCreate(hObject, ~, handles)
    if isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
        set(hObject,'BackgroundColor',[.9 .9 .9]);
    end
    
function x = getSliderValues(handles)
    x = [get(handles.slider_170, 'value') get(handles.slider_310, 'value') get(handles.slider_600, 'value') get(handles.slider_1k, 'value') get(handles.slider_3k, 'value') get(handles.slider_6k, 'value') get(handles.slider_12k, 'value') get(handles.slider_14k, 'value') get(handles.slider_16k, 'value')];
    
function refreshFrequencyValues(hObject, ~, handles)
    sliderValues = getSliderValues(handles);
    set(handles.lv_170, 'String', sliderValues(1));
    set(handles.lv_310, 'String', sliderValues(2));
    set(handles.lv_600, 'String', sliderValues(3));
    set(handles.lv_1k, 'String', sliderValues(4));
    set(handles.lv_3k, 'String', sliderValues(5));
    set(handles.lv_6k, 'String', sliderValues(6));
    set(handles.lv_12k, 'String', sliderValues(7));
    set(handles.lv_14k, 'String', sliderValues(8));
    set(handles.lv_16k, 'String', sliderValues(9));

function loadPreset(handles, v_170, v_310, v_600, v_1k, v_3k, v_6k, v_12k, v_14k, v_16k)
    set(handles.slider_170, 'value', v_170);
    set(handles.slider_310, 'value', v_310);
    set(handles.slider_600, 'value', v_600);
    set(handles.slider_1k, 'value', v_1k);
    set(handles.slider_3k, 'value', v_3k);
    set(handles.slider_6k, 'value', v_6k);
    set(handles.slider_12k, 'value', v_12k);
    set(handles.slider_14k, 'value', v_14k);
    set(handles.slider_16k, 'value', v_16k);
    refreshFrequencyValues(0, 0, handles);

function rockButton_Callback(hObject, ~, handles)
    loadPreset(handles, 1, 2, 3, 4, 5, 6, 7, 8, 9)

function jazzButton_Callback(hObject, ~, handles)
    loadPreset(handles, -1, -2, -3, -4, -5, -6, -7, -8, -9)

function classicButton_Callback(hObject, ~, handles)
    loadPreset(handles, 5, 8, 1, 3, 6, 6, -20, 20, 15.225)

function techoButton_Callback(hObject, ~, handles)
    loadPreset(handles, 0, 0, 0, 0, 0, 0, 0, 0, 0)

% Plots given signal in time domain    
function plotTD(y, axesObject, plotTitle)
    t = linspace(0,50,length(y));
    axes(axesObject);
    plot(t,y); title(plotTitle);

% Plots given signal in frequency domain     
function plotFD(Fs, y, axesObject, plotTitle)
    Y = fftshift(fft(y));
    F = linspace(-Fs/2,Fs/2,length(y));
    axes(axesObject);
    plot(F,real(Y)); title(plotTitle);

% Plots magnitude and phase of given signal     
function plotMagnitudePhase(numerator, denominator, magAxes, phaseAxes)
    [H,w] = freqz(numerator, denominator);
    magnitude = abs(H);
    phase = angle(H);
    axes(magAxes);
    plot(w,magnitude); title('Magnitude');
    axes(phaseAxes);
    plot(w,phase); title('Phase');

% Plots step and impulse responses of given signal     
function plotStepImpulse(numerator, denominator, impAxes, stepAxes)
    axes(impAxes);
    plot(impz(numerator, denominator)); title('Impulse Response'); 
    axes(stepAxes);
    plot(stepz(numerator, denominator)); title('Step Response');

% Plots poles and zeros of given signal     
function plotPolesZeros(numerator, denominator, polesAxes)
    z = roots(numerator);
    p = roots(denominator);
    axes(polesAxes);
    zplane(z,p); title('Pole-Zero Plot');

% GUI Functions    
function bandMenu_Callback(hObject, eventdata, handles)
    global selectedBand;
    selectedBand = get(hObject,'Value');
    applyEqualizer(handles);
    

function bandMenu_CreateFcn(hObject, eventdata, handles)
    if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
        set(hObject,'BackgroundColor','white');
    end
    
function sampleRateSlider_Callback(hObject, eventdata, handles)
    global userSampleRate;
    userSampleRate = ceil(get(hObject, 'value'));
    set(handles.lv_sampleRate, 'String', userSampleRate);

##### SOURCE END #####
--></body></html>